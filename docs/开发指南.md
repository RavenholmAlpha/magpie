# ğŸ’» å¼€å‘æŒ‡å—

## å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®è¦æ±‚

- **Node.js**: 16.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 8.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: ä»»æ„ç‰ˆæœ¬

### å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/magpie.git
cd magpie
```

### å®‰è£…ä¾èµ–

```bash
npm install
```

å¦‚æœä¸‹è½½æ…¢ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…é•œåƒï¼š
```bash
npm install --registry=https://registry.npmmirror.com
```

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
npm run dev
```

è¿™ä¼šåŒæ—¶å¯åŠ¨ï¼š
- Vite å¼€å‘æœåŠ¡å™¨ï¼ˆå‰ç«¯ï¼‰
- Electron åº”ç”¨ï¼ˆæ¡Œé¢åº”ç”¨ï¼‰

## é¡¹ç›®ç»“æ„

```
magpie/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/              # Electron ä¸»è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ main.ts       # ä¸»è¿›ç¨‹å…¥å£ï¼Œçª—å£ç®¡ç†
â”‚   â”‚   â””â”€â”€ store.ts      # æ•°æ®æŒä¹…åŒ–ï¼ˆelectron-storeï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ preload/          # é¢„åŠ è½½è„šæœ¬
â”‚   â”‚   â””â”€â”€ preload.ts    # ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡æ¡¥æ¥
â”‚   â”‚
â”‚   â””â”€â”€ renderer/         # React æ¸²æŸ“è¿›ç¨‹
â”‚       â”œâ”€â”€ components/   # React ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ TitleBar.tsx           # è‡ªå®šä¹‰æ ‡é¢˜æ 
â”‚       â”‚   â”œâ”€â”€ TopBar.tsx             # é¡¶éƒ¨å·¥å…·æ 
â”‚       â”‚   â”œâ”€â”€ Sidebar.tsx            # ä¾§è¾¹æ 
â”‚       â”‚   â”œâ”€â”€ RequestPanel.tsx       # è¯·æ±‚é¢æ¿
â”‚       â”‚   â”œâ”€â”€ ResponsePanel.tsx      # å“åº”é¢æ¿
â”‚       â”‚   â”œâ”€â”€ CollectionBlock.tsx    # é›†åˆç®¡ç†
â”‚       â”‚   â”œâ”€â”€ HistoryList.tsx        # å†å²åˆ—è¡¨
â”‚       â”‚   â”œâ”€â”€ EnvironmentManager.tsx # ç¯å¢ƒç®¡ç†å™¨
â”‚       â”‚   â”œâ”€â”€ ThemeEditor.tsx        # ä¸»é¢˜ç¼–è¾‘å™¨
â”‚       â”‚   â”œâ”€â”€ CodeGenerator.tsx      # ä»£ç ç”Ÿæˆå™¨
â”‚       â”‚   â”œâ”€â”€ KeyValueEditor.tsx     # é”®å€¼å¯¹ç¼–è¾‘å™¨
â”‚       â”‚   â”œâ”€â”€ VariableAutocomplete.tsx # å˜é‡è¡¥å…¨
â”‚       â”‚   â”œâ”€â”€ InputModal.tsx         # è¾“å…¥æ¨¡æ€æ¡†
â”‚       â”‚   â””â”€â”€ ColorPicker.tsx        # é¢œè‰²é€‰æ‹©å™¨
â”‚       â”‚
â”‚       â”œâ”€â”€ hooks/        # è‡ªå®šä¹‰ Hooks
â”‚       â”‚   â””â”€â”€ useResizable.ts        # å¯è°ƒæ•´å¤§å°
â”‚       â”‚
â”‚       â”œâ”€â”€ types/        # TypeScript ç±»å‹å®šä¹‰
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚       â”‚   â”œâ”€â”€ httpClient.ts          # HTTP å®¢æˆ·ç«¯
â”‚       â”‚   â”œâ”€â”€ helpers.ts             # è¾…åŠ©å‡½æ•°
â”‚       â”‚   â”œâ”€â”€ codeGenerator.ts       # ä»£ç ç”Ÿæˆ
â”‚       â”‚   â”œâ”€â”€ importExport.ts        # å¯¼å…¥å¯¼å‡º
â”‚       â”‚   â””â”€â”€ themePresets.ts        # ä¸»é¢˜é¢„è®¾
â”‚       â”‚
â”‚       â”œâ”€â”€ styles/       # æ ·å¼æ–‡ä»¶
â”‚       â”‚   â”œâ”€â”€ index.css              # å…¨å±€æ ·å¼
â”‚       â”‚   â””â”€â”€ titlebar.css           # æ ‡é¢˜æ æ ·å¼
â”‚       â”‚
â”‚       â”œâ”€â”€ App.tsx       # ä¸»åº”ç”¨ç»„ä»¶
â”‚       â””â”€â”€ main.tsx      # React å…¥å£
â”‚
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ build/icons/          # åº”ç”¨å›¾æ ‡
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.ts        # Vite é…ç½®
â””â”€â”€ tsconfig.json         # TypeScript é…ç½®
```

## å¯ç”¨è„šæœ¬

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run dev` | å¯åŠ¨å¼€å‘ç¯å¢ƒï¼ˆæ¨èï¼‰ |
| `npm run dev:renderer` | ä»…å¯åŠ¨æ¸²æŸ“è¿›ç¨‹å¼€å‘æœåŠ¡å™¨ |
| `npm run dev:electron` | ä»…å¯åŠ¨ Electron ä¸»è¿›ç¨‹ |
| `npm run build` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| `npm run build:renderer` | æ„å»ºæ¸²æŸ“è¿›ç¨‹ |
| `npm run build:electron` | æ„å»ºä¸»è¿›ç¨‹ |
| `npm run package` | æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ |
| `npm run package:win` | ä»…æ‰“åŒ… Windows ç‰ˆæœ¬ |
| `npm run package:mac` | ä»…æ‰“åŒ… macOS ç‰ˆæœ¬ |
| `npm run package:linux` | ä»…æ‰“åŒ… Linux ç‰ˆæœ¬ |
| `npm start` | è¿è¡Œå·²æ„å»ºçš„åº”ç”¨ |

## æ ¸å¿ƒæ¨¡å—è¯´æ˜

### HTTP å®¢æˆ·ç«¯ï¼ˆhttpClient.tsï¼‰

è´Ÿè´£å‘é€ HTTP è¯·æ±‚å’Œå¤„ç†å“åº”ï¼š

```typescript
// å‘é€è¯·æ±‚
export async function sendRequest(
  request: RequestConfig,
  environments: Environment[],
  activeEnvId: string | null
): Promise<ResponseData>
```

**åŠŸèƒ½:**
- ç¯å¢ƒå˜é‡æ›¿æ¢
- è¯·æ±‚å¤´å¤„ç†
- è®¤è¯é…ç½®
- è¯·æ±‚ä½“ç¼–ç 
- å“åº”æ—¶é—´ç»Ÿè®¡

### æ•°æ®å­˜å‚¨ï¼ˆstore.tsï¼‰

ä½¿ç”¨ electron-store å®ç°æ•°æ®æŒä¹…åŒ–ï¼š

```typescript
// ä¿å­˜å’Œè¯»å–æ•°æ®
store.get('collections')
store.set('collections', data)
```

**å­˜å‚¨å†…å®¹:**
- é›†åˆï¼ˆCollectionsï¼‰
- ç¯å¢ƒï¼ˆEnvironmentsï¼‰
- å†å²è®°å½•ï¼ˆHistoryï¼‰
- ä¸»é¢˜è®¾ç½®ï¼ˆThemeï¼‰
- ä¸Šæ¬¡è¯·æ±‚ï¼ˆLast Requestï¼‰

### ä»£ç ç”Ÿæˆï¼ˆcodeGenerator.tsï¼‰

ç”Ÿæˆå„ç§è¯­è¨€çš„ HTTP è¯·æ±‚ä»£ç ï¼š

```typescript
export function generateCurl(request: RequestConfig): string
export function generateJavaScript(request: RequestConfig): string
export function generatePython(request: RequestConfig): string
export function generateNodeJs(request: RequestConfig): string
```

## å¼€å‘è§„èŒƒ

### TypeScript

- ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
- é¿å…ä½¿ç”¨ `any` ç±»å‹
- ä¸ºæ‰€æœ‰å‡½æ•°æ·»åŠ ç±»å‹æ³¨è§£
- ä½¿ç”¨ interface å®šä¹‰å¤æ‚ç±»å‹

### React ç»„ä»¶

- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶
- ä½¿ç”¨ TypeScript å®šä¹‰ Props
- éµå¾ªå•ä¸€èŒè´£åŸåˆ™
- ä½¿ç”¨ `useCallback` å’Œ `useMemo` ä¼˜åŒ–æ€§èƒ½

### ä»£ç é£æ ¼

- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- ä½¿ç”¨åˆ†å·
- ä½¿ç”¨å•å¼•å·ï¼ˆJSX ä¸­é™¤å¤–ï¼‰
- ç»„ä»¶åä½¿ç”¨ PascalCase
- å‡½æ•°åä½¿ç”¨ camelCase

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

```bash
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤é—®é¢˜
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„ä»£ç 
perf: æ€§èƒ½ä¼˜åŒ–
test: æ·»åŠ æµ‹è¯•
chore: æ„å»º/å·¥å…·å˜æ›´
```

## è°ƒè¯•

### æ¸²æŸ“è¿›ç¨‹è°ƒè¯•

1. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆCtrl+Shift+I æˆ– F12ï¼‰
2. ä½¿ç”¨ Console æŸ¥çœ‹æ—¥å¿—
3. ä½¿ç”¨ Network æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
4. ä½¿ç”¨ Elements æ£€æŸ¥ DOM
5. ä½¿ç”¨ Sources è®¾ç½®æ–­ç‚¹

### ä¸»è¿›ç¨‹è°ƒè¯•

åœ¨ç»ˆç«¯æŸ¥çœ‹ä¸»è¿›ç¨‹æ—¥å¿—è¾“å‡ºã€‚

### å¸¸è§é—®é¢˜

**Q: ç«¯å£å†²çªï¼Ÿ**  
A: Vite ä¼šè‡ªåŠ¨é€‰æ‹©å…¶ä»–ç«¯å£ï¼ˆ5174ã€5175 ç­‰ï¼‰

**Q: çƒ­æ›´æ–°ä¸å·¥ä½œï¼Ÿ**  
A: æ£€æŸ¥ Vite å¼€å‘æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ

**Q: Electron çª—å£ç©ºç™½ï¼Ÿ**  
A: ç¡®ä¿ Vite å¼€å‘æœåŠ¡å™¨å·²å¯åŠ¨

## æ„å»ºå‘å¸ƒ

### æ„å»ºåº”ç”¨

```bash
npm run build
```

### æ‰“åŒ…åº”ç”¨

```bash
# Windows
npm run package:win

# macOSï¼ˆéœ€è¦åœ¨ macOS ä¸Šè¿è¡Œï¼‰
npm run package:mac

# Linux
npm run package:linux

# æ‰€æœ‰å¹³å°
npm run package:all
```

### å‘å¸ƒåˆ° GitHub

æŸ¥çœ‹ [GitHub å‘å¸ƒæŒ‡å—](./GitHubå‘å¸ƒæŒ‡å—.md) äº†è§£è¯¦ç»†æ­¥éª¤ã€‚

## è´¡çŒ®

### å¦‚ä½•è´¡çŒ®

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### è´¡çŒ®ç±»å‹

- ğŸ› Bug ä¿®å¤
- âœ¨ æ–°åŠŸèƒ½
- ğŸ“ æ–‡æ¡£æ”¹è¿›
- ğŸ¨ UI/UX æ”¹è¿›
- âš¡ æ€§èƒ½ä¼˜åŒ–
- ğŸ§ª æµ‹è¯•

è¯¦è§ [CONTRIBUTING.md](../CONTRIBUTING.md)

## æŠ€æœ¯æ”¯æŒ

- ğŸ“– [GitHub Issues](https://github.com/yourusername/magpie/issues) - æŠ¥å‘Šé—®é¢˜
- ğŸ’¬ [GitHub Discussions](https://github.com/yourusername/magpie/discussions) - è®¨è®ºäº¤æµ
- ğŸ“§ Email: magpie@example.com

---

**Happy Coding!** ğŸš€

